# Production Environment Configuration for SketchyAF
# Copy this file to production.env and fill in your actual values

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================

# Your Supabase project URL
SUPABASE_URL=https://your-project-id.supabase.co

# Supabase API Keys
SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# Database Configuration
DB_URL=postgresql://postgres:[password]@db.your-project-id.supabase.co:5432/postgres

# =============================================================================
# PUBNUB CONFIGURATION
# =============================================================================

# PubNub Keys for real-time messaging
PUBNUB_PUBLISH_KEY=your_pubnub_publish_key
PUBNUB_SUBSCRIBE_KEY=your_pubnub_subscribe_key
PUBNUB_SECRET_KEY=your_pubnub_secret_key

# PubNub Configuration
PUBNUB_USER_ID=sketchyaf-server
PUBNUB_ORIGIN=ps.pndsn.com

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Cron job authentication secret
CRON_SECRET=your_secure_random_cron_secret_here

# JWT Configuration
JWT_SECRET=your_jwt_secret_here

# CORS Configuration
CORS_ORIGIN=https://your-domain.com

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Request timeouts (milliseconds)
REQUEST_TIMEOUT=10000
PUBNUB_TIMEOUT=5000
DATABASE_TIMEOUT=30000

# Retry configuration
RETRY_ATTEMPTS=3
RETRY_DELAY=1000

# Payload limits (bytes)
MAX_PAYLOAD_SIZE=32768
MAX_MESSAGE_SIZE=8192

# Concurrency limits
MAX_CONCURRENT_GAMES=50
TIMER_CONCURRENCY_LIMIT=5

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Logging configuration
LOG_LEVEL=INFO
ENABLE_DEBUG_LOGS=false
LOG_FORMAT=json

# Monitoring intervals (seconds)
TIMER_MONITORING_INTERVAL=10
HEALTH_CHECK_INTERVAL=30

# Performance thresholds
MAX_EXECUTION_TIME=50000
MAX_TIMER_PROCESSING_TIME=30000
MAX_BROADCAST_LATENCY=5000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Timer monitoring features
ENABLE_TIMER_MONITORING=true
ENABLE_GRACE_PERIOD=true
GRACE_PERIOD_SECONDS=15

# Broadcasting features
ENABLE_PUBNUB_BROADCASTING=true
ENABLE_PRESENCE_EVENTS=true
ENABLE_USER_NOTIFICATIONS=true

# Development features (should be false in production)
ENABLE_DEBUG_MODE=false
SKIP_AUTHENTICATION=false
MOCK_PUBNUB=false

# =============================================================================
# RATE LIMITING
# =============================================================================

# PubNub rate limits
PUBNUB_RATE_LIMIT_PER_SECOND=100
PUBNUB_BURST_LIMIT=200

# Database rate limits
DB_CONNECTION_POOL_SIZE=20
DB_MAX_CONNECTIONS=100

# Edge Function limits
EDGE_FUNCTION_TIMEOUT=60000
EDGE_FUNCTION_MEMORY_LIMIT=512

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Backup configuration
ENABLE_AUTOMATED_BACKUPS=true
BACKUP_RETENTION_DAYS=30
POINT_IN_TIME_RECOVERY=true

# Recovery configuration
ENABLE_FAILOVER=true
FAILOVER_TIMEOUT=30000

# =============================================================================
# ANALYTICS AND METRICS
# =============================================================================

# Analytics providers
ENABLE_ANALYTICS=true
ANALYTICS_PROVIDER=supabase

# Metrics collection
ENABLE_PERFORMANCE_METRICS=true
ENABLE_ERROR_TRACKING=true
ENABLE_USAGE_METRICS=true

# Metrics endpoints
METRICS_ENDPOINT=https://your-metrics-endpoint.com
ERROR_REPORTING_ENDPOINT=https://your-error-tracking.com

# =============================================================================
# ENVIRONMENT METADATA
# =============================================================================

# Environment identification
ENVIRONMENT=production
VERSION=2.0.0
DEPLOYMENT_ID=prod-$(date +%Y%m%d-%H%M%S)

# Application metadata
APP_NAME=SketchyAF
APP_VERSION=2.0.0
BUILD_NUMBER=auto-generated

# Deployment metadata
DEPLOYED_BY=ci-cd-system
DEPLOYMENT_DATE=auto-generated
GIT_COMMIT=auto-generated

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================

# Health check endpoints
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
READY_CHECK_PATH=/ready

# Health check thresholds
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# Dependencies to check
CHECK_DATABASE=true
CHECK_PUBNUB=true
CHECK_EDGE_FUNCTIONS=true

# =============================================================================
# ALERTING CONFIGURATION
# =============================================================================

# Alert thresholds
ERROR_RATE_THRESHOLD=0.05
LATENCY_THRESHOLD=5000
TIMEOUT_THRESHOLD=10000

# Alert channels
SLACK_WEBHOOK_URL=https://hooks.slack.com/your-webhook
EMAIL_ALERTS=admin@your-domain.com
SMS_ALERTS=+1234567890

# Alert frequency
ALERT_COOLDOWN=300
MAX_ALERTS_PER_HOUR=10

# =============================================================================
# NOTES
# =============================================================================

# 1. Never commit this file with real values to version control
# 2. Use environment-specific secret management in production
# 3. Rotate secrets regularly
# 4. Monitor for unauthorized access
# 5. Keep this file in sync with your deployment scripts
